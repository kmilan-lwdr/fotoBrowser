(this.webpackJsonpfotobrowser=this.webpackJsonpfotobrowser||[]).push([[0],{36:function(e,t,a){e.exports=a(77)},41:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(33),i=a.n(r),l=(a(41),a(6)),o=a(1),s=a(9),u=a.n(s),m=a(12),d=a(7),p=a(19),h=a(13),b=a.n(h),f=a(22),g=window.innerWidth<=760?1:2,E=function(e){var t=Object(n.useState)({pages:[]}),a=Object(d.a)(t,2),r=a[0],i=a[1];return Object(n.useEffect)((function(){var t=function(e,t){var a=[];e>1&&(a.push("|<"),a.push("<"));var n=Math.max(1,e-g),c=Math.min(t,e+g),r=1+2*g;return n>1&&a.push("..."),c<r&&t>=r&&(c=Math.min(r,e+1+2*g)),n>t-2*g&&(n=Math.max(1,t-2*g)),a=a.concat(f.range(n,c+1)),c<t&&a.push("..."),e<t&&(a.push(">"),a.push(">|")),a}(Number(e.queryData._page)||1,Number(e.totalPages));i({pages:t})}),[e.queryData._page,e.totalPages]),c.a.createElement("div",{className:"row centered paginationBar"},r.pages.map((function(t,a){var n,r=Number(e.queryData._page)||1;switch(t){case"|<":n=1;break;case"<":n=r-1;break;case">":n=r+1;break;case">|":n=e.totalPages;break;case"...":return c.a.createElement("span",{key:a,className:"break"},t);default:n=t}return c.a.createElement(l.c,{to:e.path+"?"+b.a.stringify(Object(p.a)(Object(p.a)({},e.queryData),{},{_page:n})),key:a,className:"button ".concat(e.queryData._page===n?"active":"")},t)})))},v=function(e){return c.a.createElement("div",{className:"overlay"},c.a.createElement("div",{className:"text"},e.text,c.a.createElement("div",{className:e.icon})))},w=a(14),y=a.n(w),j=function(e){var t=N(),a=Object(d.a)(t,2),n=a[0],r=a[1];return c.a.createElement(l.c,{to:"/view/"+e.id},c.a.createElement(y.a,{className:"thumbnail",src:e.url,width:"150",height:"150",alt:e.alt,placeholderColor:"#393d3a"}),c.a.createElement("div",Object.assign({},r,{className:"titleCard",style:{display:n?"block":"none"}}),e.title))},N=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],c=t[1];return[a,{onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)}}]},O=a(35),k=a.n(O).a.create({baseURL:"https://jsonplaceholder.typicode.com",responseType:"json",timeout:1e4,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"}}),x=a(22),S=function(e){var t=Object(n.useState)({thumbnails:[],totalCount:1}),a=Object(d.a)(t,2),r=a[0],i=a[1],l=Object(n.useState)({_page:1,_limit:40,albumId:""}),o=Object(d.a)(l,2),s=o[0],p=o[1],h=Object(n.useState)({loading:!0}),f=Object(d.a)(h,2),g=f[0],w=f[1];return Object(n.useEffect)((function(){(function(){var t=Object(m.a)(u.a.mark((function t(){var a,n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w({loading:!0}),a={_page:1,_limit:40,albumId:""},x.assign(a,x.pick(b.a.parse(e.location.search),x.keys(a))),n="?"+b.a.stringify(a,{skipEmptyString:!0,skipNull:!0}),t.next=6,k.get("/photos".concat("?"!==n?n:"")).then((function(e){i({thumbnails:e.data,totalCount:e.headers["x-total-count"]}),p(a)})).catch((function(e){console.log(e)})).then((function(){w({loading:!1})}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.location.search]),c.a.createElement("div",{className:"container"},g.loading?c.a.createElement(v,{text:"Please wait...",icon:"loadingSpinner"}):r.thumbnails.length>0?c.a.createElement("div",null,c.a.createElement("div",{className:"row galleryGrid"},r.thumbnails.map((function(e,t){return c.a.createElement(j,{id:e.id,url:e.thumbnailUrl,alt:e.id,title:e.title,key:t})}))),c.a.createElement(E,{queryData:s,totalPages:Math.ceil(r.totalCount/(s._limit||40)),path:"/gallery"})):c.a.createElement(v,{text:"Unable to fetch data",icon:"failureIcon"}))},_=Object(o.g)((function(e){return c.a.createElement("div",{className:"button",onClick:e.history.goBack},"Back to gallery")})),C=function(e){var t=Object(n.useState)({image:{id:"",title:"",url:""},album:{id:"",title:""}}),a=Object(d.a)(t,2),r=a[0],i=a[1],o=Object(n.useState)({loading:!0}),s=Object(d.a)(o,2),p=s[0],h=s[1];return Object(n.useEffect)((function(){(function(){var t=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.get("/photos/".concat(e.match.params.id)).then(function(){var e=Object(m.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/albums/".concat(t.data.albumId)).then((function(e){i({image:t.data,album:e.data})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})).then((function(){h({loading:!1})}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.match.params.id]),c.a.createElement("div",{className:"container"},p.loading?c.a.createElement(v,{text:"Please wait...",icon:"loadingSpinner"}):r.image.id?c.a.createElement("div",null,c.a.createElement("div",{className:"row"},c.a.createElement(y.a,{className:"imageView",src:r.image.url,width:"600",height:"600",alt:r.image.id,placeholderColor:"#393d3a"})),c.a.createElement("div",{className:"row description"},c.a.createElement("div",{className:"descriptionRow"},c.a.createElement("div",{className:"descriptionKey"},"Title"),c.a.createElement("div",{className:"descriptionValue"},r.image.title)),c.a.createElement("div",{className:"descriptionRow"},c.a.createElement("div",{className:"descriptionKey"},"Album"),c.a.createElement(l.c,{to:"/gallery?albumId="+r.album.id,className:"descriptionValue link"},r.album.title)),c.a.createElement("div",{className:"descriptionRow"},c.a.createElement(_,null)))):c.a.createElement(v,{text:"Unable to fetch data",icon:"failureIcon"}))};function M(){return c.a.createElement("div",{className:"App"},c.a.createElement(l.b,{basename:"/"},c.a.createElement(l.c,{to:"/",className:"AppHeader"},"fotoBrowser"),c.a.createElement(o.d,null,c.a.createElement(o.b,{path:"/gallery",component:S}),c.a.createElement(o.b,{exact:!0,path:"/",render:function(){return c.a.createElement(o.a,{to:"/gallery"})}}),c.a.createElement(o.b,{path:"/view/:id",component:C}),c.a.createElement(o.b,{path:"*",render:function(){return c.a.createElement(o.a,{to:"/gallery"})}}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(l.a,null,c.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.fe95659f.chunk.js.map